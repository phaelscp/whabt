const a483_0x1a079d=a483_0x3bd8;(function(_0x3f59b4,_0xbc7abc){const _0x35c6d0=a483_0x3bd8,_0x4e99e8=_0x3f59b4();while(!![]){try{const _0x3a1b28=parseInt(_0x35c6d0(0x23f))/0x1*(parseInt(_0x35c6d0(0x176))/0x2)+-parseInt(_0x35c6d0(0x17c))/0x3*(parseInt(_0x35c6d0(0x254))/0x4)+parseInt(_0x35c6d0(0x24a))/0x5+-parseInt(_0x35c6d0(0x1da))/0x6+-parseInt(_0x35c6d0(0x1d7))/0x7*(parseInt(_0x35c6d0(0x24d))/0x8)+parseInt(_0x35c6d0(0x1c6))/0x9+-parseInt(_0x35c6d0(0x1ed))/0xa*(parseInt(_0x35c6d0(0x18a))/0xb);if(_0x3a1b28===_0xbc7abc)break;else _0x4e99e8['push'](_0x4e99e8['shift']());}catch(_0x37d678){_0x4e99e8['push'](_0x4e99e8['shift']());}}}(a483_0x12fa,0x94217));const a483_0x501fa4=(function(){const _0x3ef69c=a483_0x3bd8,_0x4f92a8={'dCaTI':function(_0x151b9e,_0x21a75b){return _0x151b9e(_0x21a75b);},'EunrA':function(_0x195a53,_0x246cda){return _0x195a53+_0x246cda;},'KKrwI':'return\x20(function()\x20','ygiOi':_0x3ef69c(0x1e2),'ltMyu':'Erro\x20ao\x20consultar\x20a\x20API\x20da\x20OpenAI:','cpZTF':_0x3ef69c(0x210),'OqiYX':_0x3ef69c(0x182),'lNaiN':function(_0x58adf7,_0x39dd32){return _0x58adf7(_0x39dd32);},'sqSbI':_0x3ef69c(0x206),'xXwse':_0x3ef69c(0x1cf),'EHxfG':function(_0x1dbe38,_0x58c397){return _0x1dbe38!==_0x58c397;},'rFPDz':function(_0x24d7d4,_0x6362a0){return _0x24d7d4!==_0x6362a0;},'soHQU':_0x3ef69c(0x195),'XuGKP':'TgDdU'};let _0x1dcc22=!![];return function(_0x9289d7,_0x5a221e){const _0x398076=_0x3ef69c,_0xac000b={'hzTeP':_0x4f92a8[_0x398076(0x196)],'Xepbn':_0x398076(0x1df),'seGRa':_0x398076(0x173),'Ljlbm':function(_0x373e25,_0x2d03db){const _0x55de28=_0x398076;return _0x4f92a8[_0x55de28(0x238)](_0x373e25,_0x2d03db);},'oOsKJ':_0x4f92a8[_0x398076(0x1f5)],'Cbyml':function(_0x3147d8,_0x42cdbe){return _0x3147d8+_0x42cdbe;},'iYVMM':'chain','NyWvA':_0x4f92a8[_0x398076(0x202)],'RIgeC':function(_0x2336ec,_0x354c3c){return _0x4f92a8['lNaiN'](_0x2336ec,_0x354c3c);},'ZHmAc':function(_0x3433ac,_0x21805d,_0x4ffa81){return _0x3433ac(_0x21805d,_0x4ffa81);},'iSPkZ':_0x4f92a8['sqSbI'],'mtZAA':_0x4f92a8[_0x398076(0x185)],'RrJES':function(_0x716f26,_0x3c9a1c){return _0x4f92a8['EHxfG'](_0x716f26,_0x3c9a1c);},'VOjCJ':_0x398076(0x19c)};if(_0x4f92a8['rFPDz'](_0x4f92a8['soHQU'],_0x4f92a8[_0x398076(0x1d1)])){const _0x5e6ba2=_0x1dcc22?function(){const _0x164a2b=_0x398076;if(_0xac000b['iSPkZ']===_0xac000b[_0x164a2b(0x241)]){_0x623451[_0x164a2b(0x1b8)](_0xac000b[_0x164a2b(0x16b)],_0x942290);const _0x5e8cf6={};_0x5e8cf6[_0x164a2b(0x1b8)]=_0xac000b['Xepbn'],_0x4eefd0[_0x164a2b(0x179)](0x1f4)[_0x164a2b(0x20b)](_0x5e8cf6);}else{if(_0x5a221e){if(_0xac000b[_0x164a2b(0x21c)](_0x164a2b(0x19c),_0xac000b[_0x164a2b(0x1cc)])){const _0xd62c59={'WrrVH':_0xac000b[_0x164a2b(0x193)],'tRgWf':function(_0x4fe8b1,_0xb1b8d4){const _0x11e425=_0x164a2b;return _0xac000b[_0x11e425(0x24b)](_0x4fe8b1,_0xb1b8d4);},'wvFuG':_0xac000b[_0x164a2b(0x187)],'mKtUL':function(_0x4e27f7,_0x484afc){const _0x3ad46b=_0x164a2b;return _0xac000b[_0x3ad46b(0x225)](_0x4e27f7,_0x484afc);},'wxfoC':_0xac000b['iYVMM'],'EWMtb':_0xac000b[_0x164a2b(0x1f8)],'hkaIm':function(_0x5d6754,_0x43c8cf){return _0xac000b['RIgeC'](_0x5d6754,_0x43c8cf);}};_0xac000b[_0x164a2b(0x215)](_0x24fcd1,this,function(){const _0x54f959=_0x164a2b,_0x52a558=new _0x107715('function\x20*\x5c(\x20*\x5c)'),_0x4f8ac2=new _0x4092c4(_0xd62c59['WrrVH'],'i'),_0x398a4b=_0xd62c59[_0x54f959(0x1ad)](_0x42116a,_0xd62c59[_0x54f959(0x1b4)]);!_0x52a558['test'](_0xd62c59['mKtUL'](_0x398a4b,_0xd62c59['wxfoC']))||!_0x4f8ac2[_0x54f959(0x1b5)](_0xd62c59[_0x54f959(0x194)](_0x398a4b,_0xd62c59[_0x54f959(0x21f)]))?_0xd62c59[_0x54f959(0x198)](_0x398a4b,'0'):_0x2e01c5();})();}else{const _0x54c8aa=_0x5a221e[_0x164a2b(0x255)](_0x9289d7,arguments);return _0x5a221e=null,_0x54c8aa;}}}}:function(){};return _0x1dcc22=![],_0x5e6ba2;}else _0x21dd90=_0x4f92a8['dCaTI'](_0x2b412a,_0x4f92a8[_0x398076(0x1b0)](_0x4f92a8[_0x398076(0x1b0)](_0x4f92a8['KKrwI'],_0x4f92a8[_0x398076(0x227)]),');'))();};}()),a483_0x544da0=a483_0x501fa4(this,function(){const _0xfa5013=a483_0x3bd8,_0x5ca0af={};_0x5ca0af[_0xfa5013(0x1ce)]=_0xfa5013(0x21b);const _0x5e7b6f=_0x5ca0af;return a483_0x544da0['toString']()[_0xfa5013(0x1c2)](_0x5e7b6f[_0xfa5013(0x1ce)])[_0xfa5013(0x17a)]()[_0xfa5013(0x200)](a483_0x544da0)['search'](_0xfa5013(0x21b));});a483_0x544da0();function a483_0x3bd8(_0x2b71d6,_0x5accfc){const _0x8227d4=a483_0x12fa();return a483_0x3bd8=function(_0x3dd48e,_0x2c8a88){_0x3dd48e=_0x3dd48e-0x169;let _0x43d25f=_0x8227d4[_0x3dd48e];return _0x43d25f;},a483_0x3bd8(_0x2b71d6,_0x5accfc);}const a483_0x13ae06=(function(){const _0x1c41fd=a483_0x3bd8,_0x4d2782={};_0x4d2782[_0x1c41fd(0x208)]=_0x1c41fd(0x1fa),_0x4d2782[_0x1c41fd(0x24c)]=_0x1c41fd(0x23b),_0x4d2782[_0x1c41fd(0x219)]='QRPec',_0x4d2782[_0x1c41fd(0x209)]=function(_0x31691b,_0x4bc9d4){return _0x31691b!==_0x4bc9d4;},_0x4d2782[_0x1c41fd(0x191)]=_0x1c41fd(0x229),_0x4d2782[_0x1c41fd(0x1c5)]=_0x1c41fd(0x1e7);const _0x14d08d=_0x4d2782;let _0x5da1d6=!![];return function(_0x3f27c4,_0x1f6977){const _0xc645ee=_0x1c41fd;if(_0x14d08d[_0xc645ee(0x1c5)]!==_0xc645ee(0x1e7)){_0x475197[_0xc645ee(0x1b8)](_0x14d08d['MTzUM'],_0x11bf55);const _0x3e41dd={};_0x3e41dd[_0xc645ee(0x1b8)]=_0xc645ee(0x1df),_0x5bb4a3[_0xc645ee(0x179)](_0x156232[_0xc645ee(0x179)])[_0xc645ee(0x20b)](_0x3e41dd);}else{const _0xb19f4b=_0x5da1d6?function(){const _0x44f29c=_0xc645ee;if(_0x14d08d[_0x44f29c(0x24c)]!==_0x14d08d[_0x44f29c(0x219)]){if(_0x1f6977){if(_0x14d08d['ZvlPD'](_0x44f29c(0x229),_0x14d08d[_0x44f29c(0x191)]))_0x437dc2(0x0);else{const _0x584803=_0x1f6977[_0x44f29c(0x255)](_0x3f27c4,arguments);return _0x1f6977=null,_0x584803;}}}else{if(_0x86d75e){const _0x55e216=_0xbd7af3[_0x44f29c(0x255)](_0xc58f4d,arguments);return _0x4a7574=null,_0x55e216;}}}:function(){};return _0x5da1d6=![],_0xb19f4b;}};}());(function(){const _0x541e21=a483_0x3bd8,_0x284a6d={'ZANzB':function(_0x2bd109,_0x6e4216){return _0x2bd109+_0x6e4216;},'qbCSC':'gger','lazGh':_0x541e21(0x178),'CFkWx':function(_0x5f2b8a,_0x31897f){return _0x5f2b8a===_0x31897f;},'QLuRZ':_0x541e21(0x23d),'DRLdl':_0x541e21(0x1a6),'YXQJg':_0x541e21(0x173),'nXLKM':function(_0xd95e88,_0x550755){return _0xd95e88(_0x550755);},'JpvBw':_0x541e21(0x210),'pfyoH':_0x541e21(0x1f0),'xTJzq':_0x541e21(0x182),'OAoGY':function(_0x52aaf5,_0x598778){return _0x52aaf5!==_0x598778;},'efbDF':_0x541e21(0x247),'byWlG':_0x541e21(0x1ee),'VImuu':function(_0x5ef5e8,_0x5dbd5d){return _0x5ef5e8===_0x5dbd5d;},'OtYLC':_0x541e21(0x217),'LtwTQ':function(_0xc7adb9,_0x10418d,_0x2c3d09){return _0xc7adb9(_0x10418d,_0x2c3d09);}};_0x284a6d[_0x541e21(0x1d6)](a483_0x13ae06,this,function(){const _0xe9d954=_0x541e21,_0x5e05db={'GpkuB':function(_0x1a6ddc,_0x1d7a90){const _0x59b6ff=a483_0x3bd8;return _0x284a6d[_0x59b6ff(0x1ff)](_0x1a6ddc,_0x1d7a90);},'VsSyE':_0xe9d954(0x19a),'QwUll':_0x284a6d[_0xe9d954(0x232)],'ouRso':_0x284a6d[_0xe9d954(0x1bf)]};if(_0x284a6d[_0xe9d954(0x23a)](_0x284a6d[_0xe9d954(0x1b1)],_0x284a6d[_0xe9d954(0x1b1)])){const _0x57c37c=new RegExp(_0x284a6d[_0xe9d954(0x1f4)]),_0x106ec0=new RegExp(_0x284a6d[_0xe9d954(0x1d0)],'i'),_0x358fad=_0x284a6d['nXLKM'](a483_0x1a4f15,_0x284a6d[_0xe9d954(0x234)]);if(!_0x57c37c['test'](_0x358fad+_0x284a6d[_0xe9d954(0x1dc)])||!_0x106ec0[_0xe9d954(0x1b5)](_0x358fad+_0x284a6d[_0xe9d954(0x24e)]))_0x284a6d[_0xe9d954(0x216)](_0x284a6d[_0xe9d954(0x1c7)],_0x284a6d[_0xe9d954(0x197)])?_0x358fad('0'):_0x1008d4=_0x5828e6;else{if(_0x284a6d['VImuu'](_0x284a6d[_0xe9d954(0x1ef)],_0xe9d954(0x217)))a483_0x1a4f15();else{const _0x58958b=_0x438ad8?function(){const _0x52918c=_0xe9d954;if(_0x1666b9){const _0x409fe8=_0x4f189d[_0x52918c(0x255)](_0x265419,arguments);return _0x3876cd=null,_0x409fe8;}}:function(){};return _0x21eec1=![],_0x58958b;}}}else(function(){return![];}[_0xe9d954(0x200)](_0x5e05db[_0xe9d954(0x242)](_0x5e05db[_0xe9d954(0x212)],_0x5e05db[_0xe9d954(0x1b9)]))[_0xe9d954(0x255)](_0x5e05db[_0xe9d954(0x1a3)]));})();}());const a483_0x2c8a88=(function(){const _0x3e6a30=a483_0x3bd8,_0x5ce74e={'Nbfhm':_0x3e6a30(0x1af),'YLUNA':function(_0x4386fa){return _0x4386fa();},'PMJuc':function(_0x2258cf,_0x2ed6f1){return _0x2258cf(_0x2ed6f1);},'QRPag':function(_0x3470ff,_0x212512){return _0x3470ff===_0x212512;},'tEdfb':_0x3e6a30(0x16e),'QggVA':_0x3e6a30(0x1b2),'DeEfS':_0x3e6a30(0x175),'JjOWb':function(_0x43a1ee,_0x11aaed){return _0x43a1ee!==_0x11aaed;},'jDVNE':_0x3e6a30(0x16d),'xpLep':_0x3e6a30(0x172)};let _0x4a22c6=!![];return function(_0x58bb43,_0x3a215e){const _0x8201cc=_0x3e6a30,_0x25aed6={'bfICG':function(_0x4ca1c2){const _0x27c2f5=a483_0x3bd8;return _0x5ce74e[_0x27c2f5(0x252)](_0x4ca1c2);},'lGOBa':function(_0x50925b,_0x5e9786){return _0x5ce74e['PMJuc'](_0x50925b,_0x5e9786);},'XQTzn':function(_0x5b00c7,_0x336f3a){const _0x1dc540=a483_0x3bd8;return _0x5ce74e[_0x1dc540(0x226)](_0x5b00c7,_0x336f3a);},'Gtplu':_0x5ce74e[_0x8201cc(0x22b)],'uiIDp':_0x5ce74e[_0x8201cc(0x192)],'eCcDE':_0x5ce74e[_0x8201cc(0x20a)]};if(_0x5ce74e['JjOWb'](_0x5ce74e[_0x8201cc(0x201)],_0x5ce74e[_0x8201cc(0x1be)])){const _0x584f40=_0x4a22c6?function(){const _0x2ef7cb=_0x8201cc,_0xe93d14={'bGqYY':function(_0x1ed8b0,_0xa37ad4){const _0x3faa2a=a483_0x3bd8;return _0x25aed6[_0x3faa2a(0x16f)](_0x1ed8b0,_0xa37ad4);}};if(_0x25aed6[_0x2ef7cb(0x1f9)](_0x25aed6[_0x2ef7cb(0x248)],_0x25aed6[_0x2ef7cb(0x1ae)]))_0xe93d14[_0x2ef7cb(0x211)](_0x579fd,'0');else{if(_0x3a215e){if(_0x25aed6[_0x2ef7cb(0x1f9)](_0x25aed6[_0x2ef7cb(0x1db)],_0x25aed6[_0x2ef7cb(0x1db)])){const _0x15623f=_0x3a215e['apply'](_0x58bb43,arguments);return _0x3a215e=null,_0x15623f;}else _0x25aed6[_0x2ef7cb(0x18c)](_0x2da0fc);}}}:function(){};return _0x4a22c6=![],_0x584f40;}else return function(_0x36cece){}[_0x8201cc(0x200)](_0x5ce74e[_0x8201cc(0x1e4)])[_0x8201cc(0x255)](_0x8201cc(0x1de));};}()),a483_0x3dd48e=a483_0x2c8a88(this,function(){const _0x52f9c1=a483_0x3bd8,_0x252a44={'xtvAS':function(_0x1612da,_0x2619f6){return _0x1612da===_0x2619f6;},'yRhXb':_0x52f9c1(0x1e1),'cmTzm':_0x52f9c1(0x1eb),'MBtLl':function(_0x595697,_0x363ef4){return _0x595697!==_0x363ef4;},'KBErf':'ykCFd','jcqCn':function(_0x4a10ac,_0x274759){return _0x4a10ac(_0x274759);},'rRbEu':_0x52f9c1(0x1a4),'UDVWP':_0x52f9c1(0x1e2),'jIAbU':_0x52f9c1(0x17d),'hvbFi':'tIOeq','xkOgi':function(_0x53a17c){return _0x53a17c();},'XZxsH':_0x52f9c1(0x1ca),'xoZRF':'info','Aoqzz':_0x52f9c1(0x1b8),'BYCFq':_0x52f9c1(0x207),'vFvwX':_0x52f9c1(0x228),'taVwV':function(_0x287de5,_0x272dcc){return _0x287de5<_0x272dcc;},'fuWaQ':function(_0x55f1c2,_0xc57620){return _0x55f1c2!==_0xc57620;},'ZVcmy':_0x52f9c1(0x243),'tiNPN':_0x52f9c1(0x20c)},_0x51f1fd=function(){const _0x1e311d=_0x52f9c1,_0x127553={};_0x127553['SwTqd']='companyId\x20não\x20fornecido\x20na\x20requisição';const _0x42faa0=_0x127553;if(_0x252a44['xtvAS'](_0x252a44[_0x1e311d(0x221)],_0x252a44[_0x1e311d(0x1ea)]))return!![];else{let _0x330568;try{if(_0x252a44[_0x1e311d(0x16c)](_0x252a44[_0x1e311d(0x19e)],_0x252a44[_0x1e311d(0x19e)])){const _0x5ab2b5={};return _0x5ab2b5['error']=_0x42faa0['SwTqd'],_0x126cb9[_0x1e311d(0x179)](0x190)[_0x1e311d(0x20b)](_0x5ab2b5);}else _0x330568=_0x252a44['jcqCn'](Function,_0x252a44[_0x1e311d(0x1b7)]+_0x252a44[_0x1e311d(0x1a8)]+');')();}catch(_0x272cab){if(_0x252a44[_0x1e311d(0x16a)]!==_0x252a44[_0x1e311d(0x1d8)])_0x330568=window;else{if(_0x9468ab)return _0x30c8b3;else _0x2aa67b(0x0);}}return _0x330568;}},_0x39e701=_0x252a44[_0x52f9c1(0x184)](_0x51f1fd),_0x36787c=_0x39e701[_0x52f9c1(0x23c)]=_0x39e701[_0x52f9c1(0x23c)]||{},_0x5c72ba=[_0x252a44['XZxsH'],'warn',_0x252a44[_0x52f9c1(0x1d3)],_0x252a44[_0x52f9c1(0x18b)],_0x252a44['BYCFq'],_0x52f9c1(0x1bc),_0x252a44['vFvwX']];for(let _0x372a79=0x0;_0x252a44[_0x52f9c1(0x189)](_0x372a79,_0x5c72ba[_0x52f9c1(0x235)]);_0x372a79++){if(_0x252a44[_0x52f9c1(0x19d)](_0x252a44[_0x52f9c1(0x174)],_0x252a44[_0x52f9c1(0x18d)])){const _0x4fce7c=a483_0x2c8a88['constructor'][_0x52f9c1(0x1d5)][_0x52f9c1(0x19f)](a483_0x2c8a88),_0x44b0f6=_0x5c72ba[_0x372a79],_0x436eaf=_0x36787c[_0x44b0f6]||_0x4fce7c;_0x4fce7c['__proto__']=a483_0x2c8a88[_0x52f9c1(0x19f)](a483_0x2c8a88),_0x4fce7c[_0x52f9c1(0x17a)]=_0x436eaf[_0x52f9c1(0x17a)][_0x52f9c1(0x19f)](_0x436eaf),_0x36787c[_0x44b0f6]=_0x4fce7c;}else{const _0x55afd8={};return _0x55afd8[_0x52f9c1(0x170)]=_0x436d4d,_0x3cc9b1&&_0x2f4f16[_0x52f9c1(0x1a7)]?_0x4871f8:_0x55afd8;}}});a483_0x3dd48e();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x333638){return _0x333638&&_0x333638['__esModule']?_0x333638:{'default':_0x333638};};const a483_0x175976={};a483_0x175976[a483_0x1a079d(0x23e)]=!![],Object[a483_0x1a079d(0x1ab)](exports,a483_0x1a079d(0x1a7),a483_0x175976);const express_1=__importDefault(require(a483_0x1a079d(0x17e))),node_fetch_1=__importDefault(require(a483_0x1a079d(0x1c0))),dotenv_1=__importDefault(require('dotenv')),Credential_1=__importDefault(require(a483_0x1a079d(0x1c9))),isAuth_1=__importDefault(require(a483_0x1a079d(0x251)));dotenv_1['default'][a483_0x1a079d(0x1c8)]();const openAiRoutes=express_1['default'][a483_0x1a079d(0x239)]();openAiRoutes[a483_0x1a079d(0x19b)]('/openai',isAuth_1[a483_0x1a079d(0x170)],async(_0x3f3ad4,_0x19cde6)=>{const _0x37d904=a483_0x1a079d,_0x22e5b5={};_0x22e5b5['YjhbK']=_0x37d904(0x240),_0x22e5b5[_0x37d904(0x233)]=function(_0x245737,_0x2c6410){return _0x245737!==_0x2c6410;},_0x22e5b5[_0x37d904(0x24f)]='HSWZZ',_0x22e5b5[_0x37d904(0x1d2)]='Eqroi',_0x22e5b5[_0x37d904(0x1bb)]=function(_0x386781,_0x5a7bb1){return _0x386781===_0x5a7bb1;},_0x22e5b5[_0x37d904(0x1e3)]='prJEe',_0x22e5b5[_0x37d904(0x249)]=_0x37d904(0x22f),_0x22e5b5[_0x37d904(0x1e0)]='gpt-3.5-turbo',_0x22e5b5[_0x37d904(0x1f2)]='user',_0x22e5b5[_0x37d904(0x253)]='vFyHE',_0x22e5b5[_0x37d904(0x169)]=_0x37d904(0x1e6),_0x22e5b5['MfHvN']=function(_0x384e21,_0x1b3d65){return _0x384e21!==_0x1b3d65;},_0x22e5b5[_0x37d904(0x1fe)]=_0x37d904(0x1cb),_0x22e5b5[_0x37d904(0x1a0)]=_0x37d904(0x18e),_0x22e5b5['sclfc']=function(_0x489ca0,_0x21030e){return _0x489ca0===_0x21030e;},_0x22e5b5[_0x37d904(0x181)]='GrSAb';const _0x4f82f7=_0x22e5b5,{prompt:_0x35ee94,companyId:_0x556e5b}=_0x3f3ad4['body'];if(!_0x556e5b){if(_0x4f82f7[_0x37d904(0x233)](_0x4f82f7[_0x37d904(0x24f)],_0x4f82f7['njjrh'])){const _0x442a22={};return _0x442a22['error']=_0x37d904(0x223),_0x19cde6['status'](0x190)['json'](_0x442a22);}else{if(_0x4e45c3){const _0x2370c5=_0x146032[_0x37d904(0x255)](_0x4563f9,arguments);return _0x19ea60=null,_0x2370c5;}}}try{if(_0x4f82f7[_0x37d904(0x1bb)](_0x4f82f7['zzssn'],_0x4f82f7[_0x37d904(0x1e3)])){const _0x3e2d23={};_0x3e2d23['companyId']=_0x556e5b;const _0x260e7a={};_0x260e7a[_0x37d904(0x180)]=_0x3e2d23;const _0x4fe2eb=await Credential_1['default'][_0x37d904(0x22a)](_0x260e7a);if(!_0x4fe2eb||!_0x4fe2eb[_0x37d904(0x244)]){if(_0x4f82f7[_0x37d904(0x233)](_0x37d904(0x230),_0x37d904(0x250)))throw new Error('Credencial\x20não\x20encontrada\x20para\x20a\x20empresa\x20fornecida');else return![];}const _0x23d043={};_0x23d043[_0x37d904(0x1f3)]=_0x37d904(0x1f7),_0x23d043[_0x37d904(0x220)]='Bearer\x20'+_0x4fe2eb[_0x37d904(0x244)];const _0x3d0d2f=await(0x0,node_fetch_1[_0x37d904(0x170)])(_0x4f82f7[_0x37d904(0x249)],{'method':_0x37d904(0x18f),'headers':_0x23d043,'body':JSON[_0x37d904(0x20d)]({'model':_0x4f82f7[_0x37d904(0x1e0)],'messages':[{'role':_0x4f82f7[_0x37d904(0x1f2)],'content':_0x35ee94}]})});if(_0x3d0d2f['ok']){if(_0x4f82f7[_0x37d904(0x253)]===_0x4f82f7[_0x37d904(0x169)]){if(_0x5858b3){const _0x182b55=_0x24bbea[_0x37d904(0x255)](_0x5a8ae2,arguments);return _0x311937=null,_0x182b55;}}else{const _0x5912d6=await _0x3d0d2f[_0x37d904(0x20b)](),_0x3ef282=_0x5912d6[_0x37d904(0x1c4)][0x0][_0x37d904(0x20f)][_0x37d904(0x1e9)],_0x598dbe={};_0x598dbe[_0x37d904(0x245)]=_0x3ef282,_0x19cde6[_0x37d904(0x20b)](_0x598dbe);}}else{if(_0x4f82f7[_0x37d904(0x1aa)](_0x4f82f7[_0x37d904(0x1fe)],_0x4f82f7['cmBIg'])){console[_0x37d904(0x1b8)]('Erro\x20ao\x20consultar\x20a\x20API\x20da\x20OpenAI,\x20resposta:',_0x3d0d2f);const _0x34ac0f={};_0x34ac0f[_0x37d904(0x1b8)]=_0x37d904(0x1df),_0x19cde6['status'](_0x3d0d2f[_0x37d904(0x179)])[_0x37d904(0x20b)](_0x34ac0f);}else{const _0x4a681a=_0x5017b0?function(){const _0x4da140=_0x37d904;if(_0x340597){const _0x48d4ca=_0x38826a[_0x4da140(0x255)](_0x3526be,arguments);return _0x527d20=null,_0x48d4ca;}}:function(){};return _0x1c2cfd=![],_0x4a681a;}}}else throw new _0x346583(_0x4f82f7['YjhbK']);}catch(_0x422d5d){if(_0x4f82f7['sclfc'](_0x37d904(0x22d),_0x4f82f7[_0x37d904(0x181)])){const _0x11c749=_0x41dab6['apply'](_0x1d677e,arguments);return _0x2e71d5=null,_0x11c749;}else{console[_0x37d904(0x1b8)](_0x37d904(0x1a5),_0x422d5d);const _0x5cf409={};_0x5cf409[_0x37d904(0x1b8)]=_0x37d904(0x1df),_0x19cde6[_0x37d904(0x179)](0x1f4)['json'](_0x5cf409);}}}),exports[a483_0x1a079d(0x170)]=openAiRoutes;function a483_0x12fa(){const _0x1db505=['10PVxLJL','JbqRA','stateObject','status','toString','JDRlE','80664DlnETS','XgwBE','express','lVWoc','where','JJOEF','input','SQylz','xkOgi','xXwse','cnhWs','oOsKJ','QWCXg','taVwV','319vGVrpY','Aoqzz','bfICG','tiNPN','bCsLg','POST','XbrxS','sfAro','QggVA','seGRa','mKtUL','fSPUe','ltMyu','byWlG','hkaIm','MZXUF','debu','post','FjuPY','fuWaQ','KBErf','bind','cmBIg','tFEbI','lQfdV','ouRso','return\x20(function()\x20','Erro\x20ao\x20consultar\x20a\x20API\x20da\x20OpenAI:','function\x20*\x5c(\x20*\x5c)','__esModule','UDVWP','call','MfHvN','defineProperty','COOeo','tRgWf','uiIDp','while\x20(true)\x20{}','EunrA','QLuRZ','vPUPA','xxQig','wvFuG','test','bJVEE','rRbEu','error','QwUll','Itede','rpnSr','table','lEZpk','xpLep','lazGh','node-fetch','hRGKf','search','YoJzO','choices','gXsFd','9049779xYDwME','efbDF','config','../models/Credential','log','cYLjC','VOjCJ','wWkKe','hglwk','FGZft','YXQJg','XuGKP','njjrh','xoZRF','brgbB','prototype','LtwTQ','21847SUBfjQ','hvbFi','DNHMk','1414458kBzqbA','eCcDE','pfyoH','xrNLK','counter','Erro\x20ao\x20consultar\x20a\x20API\x20da\x20OpenAI','VAcxj','CdADZ','{}.constructor(\x22return\x20this\x22)(\x20)','zzssn','Nbfhm','ZmZeH','yDAon','calpD','XolXB','content','cmTzm','NzQeM','POYZD','270650VWyOUW','JZekl','OtYLC','chain','qPUXf','MGXCz','Content-Type','DRLdl','cpZTF','glsex','application/json','NyWvA','XQTzn','Erro\x20ao\x20consultar\x20a\x20API\x20da\x20OpenAI,\x20resposta:','IPAsV','mmNRW','kyHqT','JIHvw','ZANzB','constructor','jDVNE','OqiYX','fTIre','UItCq','HAzBh','pigLy','exception','MTzUM','ZvlPD','DeEfS','json','YGyra','stringify','jVorW','message','init','bGqYY','VsSyE','zigSc','gger','ZHmAc','OAoGY','jUsWi','TQyCO','ETAdj','BEpUL','(((.+)+)+)+$','RrJES','HPMXB','YBoNw','EWMtb','Authorization','yRhXb','RSLHg','companyId\x20não\x20fornecido\x20na\x20requisição','__proto__','Cbyml','QRPag','ygiOi','trace','VhfGx','findOne','tEdfb','osFVV','AXFhj','AYyEO','https://api.openai.com/v1/chat/completions','NJpIo','tZLuf','qbCSC','mqqGQ','JpvBw','length','jnWXF','byFwf','dCaTI','Router','CFkWx','SbJhK','console','xaQUX','value','55694dLbGXy','Credencial\x20não\x20encontrada\x20para\x20a\x20empresa\x20fornecida','mtZAA','GpkuB','xqcjR','chatGptCredential','answer','action','sziiz','Gtplu','mPrDb','4091180zdpITM','Ljlbm','XcCve','528orlFCz','xTJzq','UOphG','zXVsX','../middleware/isAuth','YLUNA','nbdLc','40xdgLvj','apply','UpzYL','jIAbU','hzTeP','MBtLl','rdlvN','AhDWQ','lGOBa','default','lrhdf','ibUWB','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','ZVcmy','ACbGe'];a483_0x12fa=function(){return _0x1db505;};return a483_0x12fa();}function a483_0x1a4f15(_0x1c98f5){const _0x218512=a483_0x1a079d,_0x375a73={'XfhMO':_0x218512(0x19a),'lEZpk':_0x218512(0x246),'kyHqT':function(_0x439b56,_0x61fab6){return _0x439b56!==_0x61fab6;},'HCLsl':_0x218512(0x236),'hbyKf':_0x218512(0x20e),'UItCq':_0x218512(0x1fb),'ypynT':'(((.+)+)+)+$','Itede':_0x218512(0x173),'RSLHg':function(_0xd432ec,_0x3c1356){return _0xd432ec+_0x3c1356;},'lVWoc':_0x218512(0x182),'AYyEO':function(_0x20aa5c,_0x101511){return _0x20aa5c(_0x101511);},'brgbB':function(_0x39e269){return _0x39e269();},'fNJkj':function(_0x1f69b4,_0x36331b){return _0x1f69b4===_0x36331b;},'hRGKf':_0x218512(0x237),'xrNLK':'while\x20(true)\x20{}','ytEvC':_0x218512(0x1de),'YoJzO':function(_0x579056,_0x71d122){return _0x579056===_0x71d122;},'hGdlK':'EOKDe','zigSc':function(_0x1e5b4a,_0x13faa4){return _0x1e5b4a/_0x13faa4;},'JDRlE':_0x218512(0x235),'JbqRA':function(_0x19d8e0,_0x19809b){return _0x19d8e0===_0x19809b;},'tFEbI':function(_0x2b2ccf,_0x50ec6d){return _0x2b2ccf%_0x50ec6d;},'MZXUF':_0x218512(0x190),'POYZD':'smNPj','COOeo':_0x218512(0x214),'juTpu':function(_0x444cdb,_0x254278){return _0x444cdb===_0x254278;},'lrhdf':_0x218512(0x1cd),'BEpUL':function(_0x5a80af,_0x4a93db){return _0x5a80af+_0x4a93db;},'ZmZeH':_0x218512(0x1a4),'qPUXf':'huFYR','fTIre':_0x218512(0x218),'xxQig':_0x218512(0x1fc),'SQylz':function(_0x286da1,_0x22157e){return _0x286da1(_0x22157e);}};function _0x23e4d0(_0x7dbeb9){const _0x49c927=_0x218512,_0x3efc76={'QWCXg':_0x375a73['ypynT'],'HPMXB':_0x49c927(0x1a6),'DBCkK':_0x375a73[_0x49c927(0x1ba)],'tZLuf':function(_0x36130d,_0x119294){return _0x36130d+_0x119294;},'lQfdV':function(_0x518732,_0x51db3b){return _0x375a73['RSLHg'](_0x518732,_0x51db3b);},'osFVV':_0x375a73[_0x49c927(0x17f)],'XolXB':function(_0x1ab7a7,_0x51f67c){const _0x4cecb8=_0x49c927;return _0x375a73[_0x4cecb8(0x22e)](_0x1ab7a7,_0x51f67c);},'HAzBh':function(_0x482215){const _0x3d973d=_0x49c927;return _0x375a73[_0x3d973d(0x1d4)](_0x482215);}};if(_0x375a73[_0x49c927(0x1fd)](_0x49c927(0x1b6),_0x49c927(0x1b6))){const _0x536577=_0x562643['apply'](_0xf44824,arguments);return _0x22faed=null,_0x536577;}else{if(_0x375a73['fNJkj'](typeof _0x7dbeb9,'string'))return _0x375a73[_0x49c927(0x1c1)]===_0x375a73[_0x49c927(0x1c1)]?function(_0xb8d121){}[_0x49c927(0x200)](_0x375a73[_0x49c927(0x1dd)])[_0x49c927(0x255)](_0x375a73['ytEvC']):_0x3ee2b9;else{if(_0x375a73[_0x49c927(0x1c3)](_0x49c927(0x186),_0x375a73['hGdlK'])){const _0x5bf29a=_0x245e46[_0x49c927(0x200)][_0x49c927(0x1d5)][_0x49c927(0x19f)](_0x2aa6d9),_0x1f3fb7=_0x5ad53e[_0x398b64],_0x507ab6=_0x52395a[_0x1f3fb7]||_0x5bf29a;_0x5bf29a[_0x49c927(0x224)]=_0x19b150[_0x49c927(0x19f)](_0x8d3da7),_0x5bf29a[_0x49c927(0x17a)]=_0x507ab6[_0x49c927(0x17a)][_0x49c927(0x19f)](_0x507ab6),_0x132f6d[_0x1f3fb7]=_0x5bf29a;}else{if((''+_0x375a73[_0x49c927(0x213)](_0x7dbeb9,_0x7dbeb9))[_0x375a73[_0x49c927(0x17b)]]!==0x1||_0x375a73[_0x49c927(0x177)](_0x375a73[_0x49c927(0x1a1)](_0x7dbeb9,0x14),0x0)){if(_0x375a73['kyHqT'](_0x375a73[_0x49c927(0x199)],_0x375a73[_0x49c927(0x1ec)]))(function(){const _0x3d3a9c=_0x49c927,_0x391169={};_0x391169[_0x3d3a9c(0x1d9)]=_0x375a73['XfhMO'],_0x391169['glsex']=_0x375a73['lEZpk'];const _0x4e80ed=_0x391169;if(_0x375a73[_0x3d3a9c(0x1fd)](_0x375a73['HCLsl'],_0x3d3a9c(0x21e)))return!![];else(function(){return!![];}[_0x3d3a9c(0x200)](_0x4e80ed['DNHMk']+'gger')[_0x3d3a9c(0x1a9)](_0x4e80ed[_0x3d3a9c(0x1f6)]));}['constructor'](_0x375a73['XfhMO']+_0x375a73[_0x49c927(0x1ac)])[_0x49c927(0x1a9)](_0x375a73[_0x49c927(0x1bd)]));else return _0x2ceea7[_0x49c927(0x17a)]()['search'](_0x3efc76[_0x49c927(0x188)])[_0x49c927(0x17a)]()['constructor'](_0x11a03d)[_0x49c927(0x1c2)](_0x49c927(0x21b));}else{if(_0x375a73['juTpu'](_0x375a73[_0x49c927(0x171)],_0x375a73[_0x49c927(0x171)]))(function(){const _0x176309=_0x49c927;if(_0x375a73['hbyKf']!==_0x375a73[_0x176309(0x204)])return![];else{const _0xf221e0=_0x5300b0?function(){if(_0x375eb1){const _0x5d8409=_0x54bcac['apply'](_0x1e49a6,arguments);return _0x1347bb=null,_0x5d8409;}}:function(){};return _0x3f30f3=![],_0xf221e0;}}[_0x49c927(0x200)](_0x375a73[_0x49c927(0x21a)](_0x375a73['XfhMO'],_0x49c927(0x214)))[_0x49c927(0x255)](_0x49c927(0x178)));else{const _0x260f99=new _0x43d6e5(_0x3efc76[_0x49c927(0x21d)]),_0x51e2f3=new _0x2a6963(_0x3efc76['DBCkK'],'i'),_0x46b166=_0x30a8e8(_0x49c927(0x210));!_0x260f99[_0x49c927(0x1b5)](_0x3efc76[_0x49c927(0x231)](_0x46b166,'chain'))||!_0x51e2f3[_0x49c927(0x1b5)](_0x3efc76[_0x49c927(0x1a2)](_0x46b166,_0x3efc76[_0x49c927(0x22c)]))?_0x3efc76[_0x49c927(0x1e8)](_0x46b166,'0'):_0x3efc76[_0x49c927(0x205)](_0x30c8f6);}}}}_0x23e4d0(++_0x7dbeb9);}}try{if(_0x1c98f5){if(_0x375a73[_0x218512(0x1fd)](_0x375a73[_0x218512(0x1f1)],_0x375a73['qPUXf'])){let _0x59df44;try{_0x59df44=_0xbf056c(_0x375a73[_0x218512(0x222)](_0x375a73[_0x218512(0x222)](_0x375a73[_0x218512(0x1e5)],_0x218512(0x1e2)),');'))();}catch(_0xc55a03){_0x59df44=_0x54b261;}return _0x59df44;}else return _0x23e4d0;}else{if(_0x375a73[_0x218512(0x203)]===_0x375a73[_0x218512(0x1b3)]){const _0x2b1bb3=_0x4ece8c['apply'](_0x4caaa4,arguments);return _0x82bbe9=null,_0x2b1bb3;}else _0x375a73[_0x218512(0x183)](_0x23e4d0,0x0);}}catch(_0x2aac6c){}}